!function(){"use strict";angular.module("appParkingLot",["ngRoute"])}(),function(){"use strict";function a(a,b,c){function d(){a.isBusy=!0,b.getAllParkingLots().then(function(c){a.parkingLots=b.parkingLots},function(){alert("Could not load parking Lots")}).then(function(){a.isBusy=!1})}a.parkingLots=[],a.isBusy=!1,d(),a.delete=function(a){b.delteParkingLot(a).then(function(a){d()},function(a){alert("Could not delte the parking lot "+a)})},a.add=function(){c.path("/addParkingLot")}}function b(a,b,c,d){a.parkingLot={},a.existsParkingLot=!1,c.id&&d.getParkingLotById(c.id).then(function(b){a.parkingLot=b,a.existsParkingLot=!0},function(b){alert("Error retrieving parking lot"+b),console.log(b),a.back()}),a.back=function(){b.path("/")},a.save=function(){c.id&&a.existsParkingLot?d.updateParkingLot(a.parkingLot).then(function(b){angular.copy(b,a.parkingLot),a.back()},function(a){alert("Could not save the parking lot "+a)}):d.addParkingLot(a.parkingLot).then(function(b){angular.copy(b,a.parkingLot),a.back()},function(a){alert("Could not save the parking lot "+a)})}}angular.module("appParkingLot").config(["$routeProvider",function(a){a.when("/",{controller:"parkingLotController",templateUrl:"../views/parkingLots.html"}).when("/parkingLot",{controller:"parkingLotController",templateUrl:"../views/parkingLots.html"}).when("/editParkingLot/:id",{controller:"singleparkingLotController",templateUrl:"/views/editParkingLot.html"}).when("/addParkingLot",{controller:"singleparkingLotController",templateUrl:"/views/editParkingLot.html"}).otherwise({redirectTo:"/"})}]).controller("parkingLotController",a).controller("singleparkingLotController",b),a.$inject=["$scope","parkingLotFactory","$location"],b.$inject=["$scope","$location","$routeParams","parkingLotFactory"]}(),function(){"use strict";function a(a,b){function c(a){var b=null;return $.each(e,function(c,d){if(d.id==a)return b=d,!1}),b}var d="http://localhost:5000/api/parkingLot",e=[],f=!1,g=function(){return f},h=function(){var c=b.defer();return a.get(d).then(function(a){angular.copy(a.data,e),f=!0,c.resolve()},function(a){c.reject(),console.error(a)}),c.promise};return{parkingLots:e,getAllParkingLots:h,addParkingLot:function(c){var f=b.defer();return a.post(d,c).then(function(a){var b=a.data;e.splice(0,0,b),f.resolve(b)},function(a){f.reject(),console.error(a)}),f.promise},isReady:g,getParkingLotById:function(e){var f=b.defer();if(g()){var h=c(e);h?f.resolve(h):f.reject()}else a.get(d+"/"+e).then(function(a){f.resolve(h)},function(a){f.reject(a),console.error(a)});return f.promise},updateParkingLot:function(c){var e=b.defer();return a.put(d,c).then(function(a){e.resolve(a.data),h()},function(a){e.reject(),console.error(a)}),e.promise},delteParkingLot:function(c){var e=b.defer();return a.delete(d+"/"+c).then(function(a){e.resolve(a),h()},function(a){e.reject(),console.error(a)}),e.promise}}}angular.module("appParkingLot").factory("parkingLotFactory",a),a.$inject=["$http","$q"]}();
//# sourceMappingURL=app.js.map